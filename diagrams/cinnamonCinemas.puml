@startuml "cinnamon cinemas"
skinparam ClassAttributeIconSize 0

class TheatrePrinter {
    + Print(theatre : Theatre) : void
    
    + Print(\n\
        theatre : Theatre, \n\
        recentlyAllocatedSeats : List<Seat>\n\
    ) : void
}

interface ISeatNumberGenerator {
    + GenerateSeatNumber(rowNumber : int, columnNumber : int) : string
}

class SeatNumberGenerator {
    + GenerateSeatNumber(rowNumber : int, columnNumber : int) : string
}

class CinemasController {
    - theatres : List<Theatre>
    - selectedTheatre : Theatre
    - recentlyAllocatedSeats : List<Seat>

    + GetTheatres() : List<Theatre>
    + GetSelectedTheatre() : Theatre
    + GetRecentlyAllocatedSeats() : List<Seat>

    + AddTheatre(\n\
        rowCount : int, \n\
        columnCount : int, \n\
        theatreInfo : string, \n\
        seatNumberGenerator : ISeatNumberGenerator\n\
    ) : void

    + SelectTheatre(theatre : Theatre) : void

    + AllocateSeatsOnSelectedTheatre(number : int) : void

    + DeleteTheatre(theatre : Theatre) : void
}

class Theatre {
    - rowCount : int
    - columnCount : int
    - theatreInfo : string
    - seats : List<Seat>

    + Theatre(\n\
        rowCount : int, \n\
        columnCount : int, \n\
        theatreInfo : string, \n\
        seatNumberGenerator : ISeatNumberGenerator)

    + GetRowCount() : int
    + GetColumnCount() : int
    + GetTheatreInfo() : string
    + GetSeats() : List<Seat>

    + GetAvailableSeatsCount() : int
    + AllocateSeats(number : int) : List<Seat>
}

class Seat {
    - status : SeatStatus
    - seatNumber : string

    + Seat(seatNumber : string)

    + GetStatus() : SeatStatus
    + GetSeatNumber() : string
    + Allocate() : void
}

Enum SeatStatus {
    Available
    Allocated
}

CinemasController o-- Theatre
CinemasController o--- Seat
CinemasController --u-> ISeatNumberGenerator

TheatrePrinter --> Theatre
TheatrePrinter ---> Seat

Theatre o-- Seat
Theatre --u-> ISeatNumberGenerator

ISeatNumberGenerator <|.u. SeatNumberGenerator

Seat o-- SeatStatus

@enduml